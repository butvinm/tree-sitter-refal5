*$FROM LibraryEx
$EXTERN ArgList;

*$FROM R5FW-Parser
$EXTERN Parse, Scan;

$ENTRY GO {
    , <ArgList>
    : {
        (e.ProgName) (e.FilePath)
            , <Scan e.FilePath> : e.Tokens
            , <Parse e.Tokens>
            : {
                Success e.AST = <Prout e.AST>;
                Fails e.Errors = <Prout 'Failed to parse file:\n' e.Errors>;
            };

        (e.ProgName) e.BadArgs
            = <Prout 'Bad args\nUsage: ' e.ProgName ' file_path'>;
    }
}
